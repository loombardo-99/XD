<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunidade - XD</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/comunidade.css">
</head>
<body>
    <div class="overlay" id="overlay"></div>

    <div class="feedback-message" id="feedback-message"></div>

    <span class="menu-icon" onclick="toggleMenu()">&#9776;</span>
    <span class="groups-toggle-icon" onclick="toggleGroups()"><i class="fas fa-users"></i></span>

    <nav id="main-nav">
        <ul>
            <li><a href="home.html">Assistente</a></li>
            <li><a href="previsoes.html">Leitura</a></li>
            <li><a href="comunidade.html">Comunidade</a></li>
            <li><a href="editor.html">Editor</a></li>
            <li>
                <select onchange="handleMenuSelection(this.value)" class="menu-select">
                    <option value="perfil.html" disabled selected>Perfil</option>
                    <option value="configuracoes.html">Configurações</option>
                    <option value="politicas.html">Políticas de Privacidade</option>
                    <option value="#" onclick="logout()">Sair</option> <!-- Adicionado botão de logout -->
                </select>
            </li>
        </ul>
    </nav>

    <div class="social-container">
        <div class="feed-column">
            <h2 class="section-header">Feed da Comunidade</h2>

            <div class="post-creation-area">
                <textarea id="post-text-input" placeholder="O que você está pensando?"></textarea>
                <div class="post-creation-actions">
                    <label for="post-image-upload" class="file-upload-label">
                        <i class="fas fa-image"></i> Imagem
                        <input type="file" id="post-image-upload" accept="image/*">
                    </label>
                    <label for="post-video-upload" class="file-upload-label">
                        <i class="fas fa-video"></i> Vídeo
                        <input type="file" id="post-video-upload" accept="video/*">
                    </label>
                    <button onclick="createPost()"><i class="fas fa-paper-plane"></i> Postar</button>
                </div>
            </div>

            <div class="feed-container" id="feed-container">
                <div class="post-item">
                    <div class="post-header">
                        <div class="post-avatar">U1</div>
                        <div class="post-info">
                            <span class="username">Fernando Lombardo Junior</span>
                            <span class="timestamp">há 5 minutos</span>
                        </div>
                    </div>
                    <div class="post-content">
                        <p>Olá comunidade! Animado para compartilhar minhas ideias com vocês.</p>
                    </div>
                    <div class="post-actions">
                        <button><i class="fas fa-heart"></i> Curtir</button>
                        <button><i class="fas fa-comment"></i> Comentar</button>
                        <button><i class="fas fa-share"></i> Compartilhar</button>
                    </div>
                </div>
                <div class="post-item">
                    <div class="post-header">
                        <div class="post-avatar">U2</div>
                        <div class="post-info">
                            <span class="username">Yasmin Conceição de Souza</span>
                            <span class="timestamp">há 15 minutos</span>
                        </div>
                    </div>
                    <div class="post-content">
                        <p>Confira essa paisagem incrível que capturei hoje!</p>
                        <img src="midia/arvore-jasmin-2.jpg" alt="Imagem de Exemplo">
                    </div>
                    <div class="post-actions">
                        <button><i class="fas fa-heart"></i> Curtir</button>
                        <button><i class="fas fa-comment"></i> Comentar</button>
                        <button><i class="fas fa-share"></i> Compartilhar</button>
                    </div>
                </div>
                <div class="post-item">
                    <div class="post-header">
                        <div class="post-avatar">U3</div>
                        <div class="post-info">
                            <span class="username">pre7</span>
                            <span class="timestamp">há 30 minutos</span>
                        </div>
                    </div>
                    <div class="post-content">
                        <p>Um pequeno vídeo da minha criação de projeção visual no Touchdesigner</p>
                        <video controls src="midia/Vídeo sem título ‐ Feito com o Clipchamp.mp4" onerror="this.src='https://placehold.co/600x300/000000/FFFFFF?text=Video+Indisponivel'" alt="Video de Exemplo"></video>
                    </div>
                    <div class="post-actions">
                        <button><i class="fas fa-heart"></i> Curtir</button>
                        <button><i class="fas fa-comment"></i> Comentar</button>
                        <button><i class="fas fa-share"></i> Compartilhar</button>
                    </div>
                </div>
            </div>
            <div class="loading-indicator" id="feed-loading-indicator">
                <div class="spinner"></div>
                <span>Carregando mais posts...</span>
            </div>
        </div>

        <div class="groups-column" id="groups-column">
            <h2 class="section-header">Grupos Diversos</h2>
            <div class="groups-list" id="groups-list">
                <div class="group-item">
                    <h3><i class="fas fa-code"></i> Desenvolvedores XD</h3>
                    <p>Discussões sobre programação, novas tecnologias e projetos.</p>
                    <button class="join-button" onclick="joinGroup(this, 'Desenvolvedores XD')"><i class="fas fa-users"></i> Entrar</button>
                </div>
                <div class="group-item">
                    <h3><i class="fas fa-book-open"></i> Clube do Livro</h3>
                    <p>Compartilhe suas leituras, resenhas e descubra novos livros.</p>
                    <button class="join-button" onclick="joinGroup(this, 'Clube do Livro')"><i class="fas fa-users"></i> Entrar</button>
                </div>
                <div class="group-item">
                    <h3><i class="fas fa-camera"></i> Fotografia Amadora</h3>
                    <p>Mostre suas fotos, peça feedback e aprenda novas técnicas.</p>
                    <button class="join-button" onclick="joinGroup(this, 'Fotografia Amadora')"><i class="fas fa-users"></i> Entrar</button>
                </div>
                <div class="group-item">
                    <h3><i class="fas fa-gamepad"></i> Gamers XD</h3>
                    <p>Conecte-se com outros jogadores e discuta seus jogos favoritos.</p>
                    <button class="join-button" onclick="joinGroup(this, 'Gamers XD')"><i class="fas fa-users"></i> Entrar</button>
                </div>
                <div class="group-item">
                    <h3><i class="fas fa-utensils"></i> Culinária Criativa</h3>
                    <p>Receitas, dicas de cozinha e paixão pela gastronomia.</p>
                    <button class="join-button" onclick="joinGroup(this, 'Culinária Criativa')"><i class="fas fa-users"></i> Entrar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="JS/comunidade.js"></script>
    <script src="JS/auth.js"></script> <!-- Incluído auth.js -->
</body>
</html>